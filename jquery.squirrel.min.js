!function(e,t,r){function i(e,r,i,n){var s=JSON.parse(e.getItem(r));if(null===s&&(s={}),u(n)||null===n)return u(s[i])?null:s[i];var a={};return a[i]=n,t.extend(s,a),e.setItem(r,JSON.stringify(s)),n}function n(e,t){e.removeItem(t)}function s(e){return"boolean"===t.type(e)}function a(e){return"object"===t.type(e)}function o(e){return"string"===t.type(e)&&e.trim().length>0}function u(e){return e===r}function l(e,t){return o(e)?e:t}t.fn.extend({squirrel:function(r,c){c=t.extend({},t.fn.squirrel.options,c);var f=null;if(o(c.storage_method)?f="LOCAL"===c.storage_method.toUpperCase()?e.localStorage:e.sessionStorage:null!==c.storage_method&&a(c.storage_method)&&(f=c.storage_method),null===f||!(a(f)&&"getItem"in f&&"removeItem"in f&&"setItem"in f))return this;r=o(r)&&/^(?:CLEAR|REMOVE|OFF|STOP)$/i.test(r)?r.toUpperCase():"START";var h="input[type!=file]:not(.squirrel-ignore), select:not(.squirrel-ignore), textarea:not(.squirrel-ignore)",g="button[type=reset], input[type=reset]",d="input[id], input[name], select[id], select[name], textarea[id], textarea[name]";return c.storage_key=l(c.storage_key,"squirrel"),c.storage_key_prefix=l(c.storage_key_prefix,""),this.each(function(){var e=t(this),a=e.attr("data-squirrel"),l=c.storage_key_prefix+(o(a)?a:c.storage_key);switch(r){case"CLEAR":case"REMOVE":n(f,l);break;case"OFF":case"STOP":e.find(h).off("blur.squirrel.js keyup.squirrel.js change.squirrel.js"),e.find(g).off("click.squirrel.js"),e.off("submit.squirrel.js");break;default:e.find("*").filter(d).each(function(){var r=t(this),n=r.attr("name");if(u(n)&&(n=r.attr("id"),u(n)))return e;var s=null;switch(this.tagName){case"INPUT":case"TEXTAREA":var a=r.attr("type");if("checkbox"===a){var c=r.attr("value");o(c)||(c=""),s=i(f,l,n+c),null!==s&&s!==this.checked&&(this.checked=s===!0,r.trigger("change"))}else"radio"===a?(s=i(f,l,n),null!==s&&s!==this.checked&&(this.checked=r.val()===s,r.trigger("change"))):(s=i(f,l,n),null!==s&&!r.is("[readonly]")&&r.is(":enabled")&&r.val()!==s&&r.val(s).trigger("change"));break;case"SELECT":s=i(f,l,n),null!==s&&t.each(t.isArray(s)?s:[s],function(e,i){r.find("option").filter(function(){var e=t(this);return e.val()===i||e.html()===i}).prop("selected",!0).trigger("change")})}}),e.find(h).on("blur.squirrel.js keyup.squirrel.js change.squirrel.js",function(){var e=t(this),r=e.attr("name");if(!u(r)||(r=e.attr("id"),!u(r))){var n=e.attr("value"),s="checkbox"!==this.type||u(n)?r:r+n;i(f,l,s,"checkbox"===this.type?e.prop("checked"):e.val())}}),e.find(g).on("click.squirrel.js",function(){n(f,l)}),e.on("submit.squirrel.js",function(){(!s(c.clear_on_submit)||c.clear_on_submit)&&n(f,l)})}})}}),t.fn.squirrel.options={clear_on_submit:!0,storage_method:"session",storage_key:"squirrel",storage_key_prefix:""},t(function(){t("form.squirrel, form[data-squirrel]").squirrel()})}(this,this.jQuery);